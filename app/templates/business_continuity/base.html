{% extends "../base.html" %}

{# BC Base Template with 3-part layout: Left menu, Right header, Right body #}

{% block content %}
<div class="bc-layout">
  <aside class="bc-layout__sidebar">
    <nav class="bc-nav" aria-label="Business Continuity navigation">
      <div class="bc-nav__header">
        <h2 class="bc-nav__title">Business Continuity</h2>
      </div>
      <ul class="bc-nav__menu">
        <li class="bc-nav__item">
          <a href="/business-continuity/plans" class="bc-nav__link {% if current_page == 'plans' %}bc-nav__link--active{% endif %}">
            <span class="bc-nav__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 2v12h16V6H4zm2 2h12v2H6V8zm0 4h8v2H6v-2z"/>
              </svg>
            </span>
            <span class="bc-nav__label">Plans</span>
          </a>
        </li>
        <li class="bc-nav__item">
          <a href="/business-continuity/templates" class="bc-nav__link {% if current_page == 'templates' %}bc-nav__link--active{% endif %}">
            <span class="bc-nav__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path d="M6 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 2v16h12V4H6zm2 2h8v2H8V6zm0 4h8v2H8v-2zm0 4h5v2H8v-2z"/>
              </svg>
            </span>
            <span class="bc-nav__label">Templates</span>
          </a>
        </li>
        <li class="bc-nav__item">
          <a href="/business-continuity/reviews" class="bc-nav__link {% if current_page == 'reviews' %}bc-nav__link--active{% endif %}">
            <span class="bc-nav__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm4 6l-5 5-3-3 1.5-1.5L11 12l3.5-3.5L16 10z"/>
              </svg>
            </span>
            <span class="bc-nav__label">Reviews</span>
          </a>
        </li>
        <li class="bc-nav__item">
          <a href="/business-continuity/reports" class="bc-nav__link {% if current_page == 'reports' %}bc-nav__link--active{% endif %}">
            <span class="bc-nav__icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" focusable="false">
                <path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm2 3v12h14V6H5zm2 2h10v2H7V8zm0 4h10v2H7v-2zm0 4h6v2H7v-2z"/>
              </svg>
            </span>
            <span class="bc-nav__label">Reports</span>
          </a>
        </li>
      </ul>
    </nav>
  </aside>
  
  <div class="bc-layout__main">
    <header class="bc-header">
      <div class="bc-header__leading">
        {% block bc_header_title %}
        <h1 class="bc-header__title">{{ page_title|default('Business Continuity') }}</h1>
        {% endblock %}
      </div>
      <div class="bc-header__actions">
        {% block bc_header_actions %}{% endblock %}
      </div>
    </header>
    
    <div class="bc-body">
      {% block bc_content %}{% endblock %}
    </div>
  </div>
</div>

<style>
.bc-layout {
  display: flex;
  height: calc(100vh - 4rem);
  overflow: hidden;
}

.bc-layout__sidebar {
  width: 16rem;
  flex-shrink: 0;
  background: #f9fafb;
  border-right: 1px solid #e5e7eb;
  overflow-y: auto;
}

.bc-layout__main {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.bc-nav__header {
  padding: 1.5rem 1rem 1rem;
  border-bottom: 1px solid #e5e7eb;
}

.bc-nav__title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #111827;
  margin: 0;
}

.bc-nav__menu {
  list-style: none;
  padding: 0.5rem 0;
  margin: 0;
}

.bc-nav__item {
  margin: 0;
}

.bc-nav__link {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  color: #6b7280;
  text-decoration: none;
  transition: all 0.15s;
}

.bc-nav__link:hover {
  background: #f3f4f6;
  color: #111827;
}

.bc-nav__link--active {
  background: #eff6ff;
  color: #1d4ed8;
  border-left: 3px solid #1d4ed8;
  padding-left: calc(1rem - 3px);
}

.bc-nav__icon {
  width: 1.25rem;
  height: 1.25rem;
  margin-right: 0.75rem;
  flex-shrink: 0;
}

.bc-nav__icon svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
}

.bc-nav__label {
  font-size: 0.875rem;
  font-weight: 500;
}

.bc-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.5rem 2rem;
  background: white;
  border-bottom: 1px solid #e5e7eb;
  flex-shrink: 0;
}

.bc-header__leading {
  flex: 1;
}

.bc-header__title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #111827;
  margin: 0;
}

.bc-header__actions {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.bc-body {
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  background: #f9fafb;
}

@media (max-width: 768px) {
  .bc-layout {
    flex-direction: column;
  }
  
  .bc-layout__sidebar {
    width: 100%;
    height: auto;
    max-height: 50vh;
  }
  
  .bc-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }
  
  .bc-header__actions {
    width: 100%;
  }
}
</style>
{% endblock %}

{% block scripts %}
{{ super() }}
{% block bc_scripts %}{% endblock %}
{% endblock %}
