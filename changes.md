- 2025-10-20, 08:20 UTC, Fix, Ensured ticket creation reuses insert connections so watcher setup no longer triggers 500 errors
- 2025-10-20, 07:49 UTC, Feature, Moved integration module diagnostics actions into each module card with inline testing controls and refreshed layout spacing
- 2025-11-27, 11:00 UTC, Feature, Added admin navigation entries for tickets, ticket automations, and modules while retaining the scheduler automation tools
- 2025-10-20, 06:59 UTC, Fix, Aligned ticketing migration key types with existing INT identifiers so startup migrations succeed on MySQL
- 2025-10-20, 06:29 UTC, Fix, Guarded module catalog and automation schedule refresh when the database is offline so startup and tests proceed without MySQL
- 2025-10-20, 06:09 UTC, Feature, Integrated ticketing, automations, and integration module management from TacticalDesk with admin dashboards and API endpoints
- 2025-10-16, 08:13 UTC, Fix, Restored add-to-cart controls by exposing cart permissions in shared context so authorised users can shop
- 2025-10-16, 00:08 UTC, Fix, Hid cart quantity and submission controls on the shop page when membership lacks cart permissions
- 2025-10-15, 23:46 UTC, Fix, Prevented dashboard summary cards from overlapping their meta text by expanding spacing and line heights
- 2025-10-15, 13:45 UTC, Fix, Restored sidebar company features for company admins when memberships grant access
- 2025-11-26, 09:00 UTC, Fix, Expanded dashboard padding and responsive spacing so overview cards and status lists no longer overlap on compact screens
- 2025-10-15, 13:44 UTC, Fix, Allowed company membership permission toggles to send CSRF tokens from the page meta tag when the session cookie name is customised
- 2025-10-15, 13:26 UTC, Fix, Prevented blank CSRF headers from blocking company membership saves when the session cookie name is customised
- 2025-11-25, 11:00 UTC, Feature, Logged SMS notifications as webhook events so delivery follows monitored retry logic
- 2025-10-15, 13:21 UTC, Fix, Restored shop admin category, product update, archive, and visibility endpoints with validation and logging
- 2025-11-24, 10:45 UTC, Feature, Expanded role documentation with detailed permission descriptions on the Roles administration page
- 2025-10-15, 13:09 UTC, Feature, Documented the Roles administration menu with guidance on secure privilege management
- 2025-11-24, 10:00 UTC, Fix, Removed the Super admin sidebar heading to keep navigation compact for privileged users
- 2025-10-31, 09:15 UTC, Feature, Added super-admin controls to grant or block company admin access to shop, cart, order, and form sections
- 2025-10-15, 12:55 UTC, Fix, Hardened system update automation to use a writable Git config home and tolerate missing service restart permissions
- 2025-10-15, 12:53 UTC, Fix, Restored the full super admin sidebar with shop, cart, orders, forms, assets, licenses, invoices, and staff links
- 2025-10-30, 10:15 UTC, Feature, Added configurable SMS notification delivery with secure gateway integration and tests
- 2025-10-30, 09:00 UTC, Feature, Added an Administration My Profile console with password rotation, TOTP management, and SMS contact updates
- 2025-10-15, 12:21 UTC, Fix, Enabled SMTP-backed email delivery for password resets, staff invitations, and notification alerts
- 2025-10-15, 12:18 UTC, Feature, Added Fail2ban-aware authentication logging with sample filter/jail configs and documentation
- 2025-10-15, 12:16 UTC, Feature, Added forms admin assignment controls so OpnForm experiences can be scoped to specific companies and users
- 2025-10-23, 12:00 UTC, Fix, Removed legacy port notification defaults from preference options to keep event lists focused on active services
- 2025-10-15, 11:59 UTC, Feature, Added shipping status notification event defaults so users can subscribe to fulfilment updates across UI and API
- 2025-10-10, 03:54 UTC, Fix, Removed the five item page cap from the shop catalogue so pagination now follows viewport measurements
- 2025-10-22, 09:30 UTC, Feature, Added configurable notification delivery settings with API-backed preferences, UI controls, and persistence tests
- 2025-10-10, 03:37 UTC, Fix, Compacted portal spacing with reusable 5px+ padding variables so the UI stays dense yet readable
- 2025-10-10, 02:50 UTC, Fix, Removed remaining Node.js references from documentation and configuration comments to reflect the Python-only stack
- 2025-10-10, 02:28 UTC, Change, Retired the legacy Node.js/TypeScript codebase and tooling so only the FastAPI stack remains
- 2025-10-10, 00:10 UTC, Fix, Excluded high-capacity licenses (>=10000) from dashboard metrics so totals reflect countable seats
- 2025-10-09, 23:26 UTC, Fix, Added stock_feed.xml to .gitignore so generated stock feeds stay out of version control
- 2025-10-09, 13:18 UTC, Fix, Allowed Run Now scheduled tasks to execute in the background without redirecting to the update progress message
- 2025-10-09, 13:14 UTC, Feature, Added viewport-aware pagination to the software licenses table so row counts follow the available space
- 2025-10-21, 13:20 UTC, Feature, Added viewport-aware pagination to the asset inventory with dynamic counts and table refresh hooks
- 2025-10-09, 13:16 UTC, Fix, Limited the Available products catalogue to display a maximum of five items per page for consistent pagination
- 2025-10-09, 13:16 UTC, Feature, Added viewport-aware pagination to the staff roster so visible rows adapt to screen height
- 2025-10-20, 14:15 UTC, Feature, Added viewport-aware pagination to the scheduled tasks table so automation rows scale with the available space
- 2025-10-09, 22:00 UTC, Feature, Added super-admin notification creation endpoint with Swagger docs, README updates, and regression tests
- 2025-10-20, 13:30 UTC, Feature, Delivered a consolidated dashboard overview with compact padding and webhook health summaries for faster triage
- 2025-10-09, 13:09 UTC, Fix, Namespaced the notifications API under /api so the dashboard renders HTML instead of returning JSON arrays
- 2025-10-09, 13:09 UTC, Fix, Restored customer shop pagination with capped page sizes and navigation controls to prevent sprawling product lists
- 2025-10-09, 12:59 UTC, Fix, Prevented shop pagination from exceeding the viewport when recalculating rows while scrolled
- 2025-10-20, 11:45 UTC, Fix, Split upgrade automation into pull-only upgrade.sh and restart.sh for dependency reinstalls and service restarts
- 2025-10-09, 12:38 UTC, Feature, Delivered a notifications dashboard with filtering, bulk acknowledgement, Swagger-documented API enhancements, and navigation badge updates
- 2025-10-19, 10:20 UTC, Feature, Collapsed the shop admin category manager by default with a persisted toggle so the grid stays tidy while remaining easy to access
- 2025-10-09, 12:48 UTC, Fix, Removed shop toolbar search and stock toggle controls from the customer catalogue view
- 2025-10-20, 10:00 UTC, Fix, Purged stray ~myportal pip metadata during upgrades so dependency installs stop warning about invalid distributions
- 2025-10-09, 12:37 UTC, Fix, Added responsive pagination to the shop product table that adapts row counts to the viewport height for readability
- 2025-10-19, 09:45 UTC, Feature, Added pagination to shop category lists showing five entries per page to keep the admin UI manageable
# Change Log
- 2025-10-19, 09:45 UTC, Feature, Added an asset inventory dashboard with summary analytics, column preferences, and secure deletion workflows for super admins
- 2025-10-19, 09:45 UTC, Fix, Hardened upgrade automation to locate python3 when python is absent so system updates no longer fail
- 2025-10-19, 08:30 UTC, Fix, Ensured the system upgrade automation reuses the managed virtual environment before reinstalling dependencies
- 2025-10-18, 11:30 UTC, Fix, Restored the Orders navigation link by initialising membership context before evaluating shop permissions in the base template
- 2025-10-19, 07:15 UTC, Fix, Routed the system update scheduler task through scripts/upgrade.sh for consistent upgrade automation
- 2025-10-09, 12:17 UTC, Feature, Introduced a notifications dashboard with filtering, sorting, and read-state tracking across the UI and API
- 2025-10-09, 12:18 UTC, Fix, Accepted camelCase membership payload fields so API updates persist when saving company membership roles
- 2025-10-18, 10:45 UTC, Feature, Added an orders dashboard with analytics, filtering, and navigation to restore customer order history in the new app
- 2025-10-09, 12:06 UTC, Fix, Ensured the Cart navigation link remains visible whenever items are in the cart regardless of page context
- 2025-10-09, 12:10 UTC, Fix, Restored stock feed download to fetch the configured XML source and persist items for scheduled product updates
- 2025-10-09, 11:56 UTC, Fix, Routed Update Stock Feed scheduler command to product feed synchronisation handler to resolve missing handler errors
- 2025-10-09, 12:01 UTC, Fix, Removed the Description column from the Cart table to streamline checkout review
- 2025-10-09, 11:52 UTC, Fix, Removed the Syncro import card from the Staff view and restyled the Add Staff form to span the full content width
- 2025-10-18, 09:05 UTC, Feature, Added customer cart support with persistent checkout, webhook retries, and Discord stock notifications for shop orders
- 2025-10-09, 11:46 UTC, Feature, Consolidated the portal shell with a compact three-panel layout and reduced padding across views
- 2025-10-09, 11:44 UTC, Feature, Added inline role selection to company memberships so administrators can reassign members without leaving the table
- 2025-10-18, 09:00 UTC, Fix, Removed Syncro import controls from the Staff page and expanded the Add Staff form to full width for better usability
- 2025-10-17, 12:30 UTC, Fix, Added a global form confirmation handler and removed the missing forms_admin.js reference to resolve admin script 404s
- 2025-10-09, 11:31 UTC, Change, Retired the /admin/memberships page and synced company assignments with active company membership records
- 2025-10-09, 11:34 UTC, Fix, Expanded the Companies administration card to occupy the full grid width for consistent layout
- 2025-10-09, 11:28 UTC, Fix, Expanded the Companies dashboard card to span the full grid width for clearer management access
- 2025-10-09, 11:21 UTC, Fix, Restored scheduled task modals by eagerly binding UI handlers and reading CSRF tokens from meta fallback
- 2025-10-09, 11:25 UTC, Fix, Expanded the API credentials administration card to full width for improved visibility
- 2025-10-17, 08:15 UTC, Fix, Positioned the cross-service audit correlations card below API credentials for consistent admin layout
- 2025-10-09, 11:16 UTC, Change, Moved company creation into a modal trigger on the Companies dashboard and removed legacy user provisioning forms
- 2025-10-16, 09:55 UTC, Fix, Restored Syncro asset scheduled sync with importer service and repository upsert handling
- 2025-10-16, 08:45 UTC, Fix, Added a secure system update scheduler handler that runs update.sh with locking and output auditing
- 2025-10-09, 06:01 UTC, Fix, Seeded the MyPortal System Update scheduled task so the automation runs on its daily cron
- 2025-10-09, 05:52 UTC, Fix, Normalised string timestamp values from the database to UTC datetimes so the admin API key dashboard loads
- 2025-10-08, 13:39 UTC, Fix, Normalised Decimal audit metadata before JSON serialisation so the admin API key dashboard renders without errors
- 2025-10-08, 13:42 UTC, Fix, Restored /admin/companies administration dashboard with user provisioning and permission controls
- 2025-10-15, 09:20 UTC, Fix, Removed an extra Jinja endif in base.html so the dashboard template renders without 500 errors
- 2025-10-15, 11:45 UTC, Fix, Restored shop product deletion via FastAPI with secure file cleanup and redirect handling
- 2025-10-14, 11:55 UTC, Fix, Filtered zero-priced products from the shop catalogue so customers only see priced items
- 2025-10-11, 11:45 UTC, Feature, Recreated the invoices dashboard with FastAPI templates, filtering UI, and secured API endpoints
- 2025-10-11, 11:45 UTC, Fix, Synced stock feed images into the portal and replaced zero pricing with RRP during product updates
- 2025-10-08, 13:23 UTC, Feature, Restored company management console with invitations, permissions, and admin UI parity
- 2025-10-08, 13:22 UTC, Fix, Restricted Swagger UI and OpenAPI schema to authenticated sessions to keep API documentation private
- 2025-10-11, 14:05 UTC, Fix, Locked the shop category sidebar to the scroll container top so it no longer drifts when many products load
- 2025-10-08, 13:09 UTC, Feature, Added admin UI for inline API key rotation with cross-service audit correlation dashboards and secure copy workflows
- 2025-10-08, 13:06 UTC, Fix, Added stock feed product update handler so scheduled Update Products runs refresh inventory data
- 2025-10-08, 13:09 UTC, Fix, Ensured the shop category sidebar remains top-aligned when product listings extend the page
- 2025-10-08, 13:01 UTC, Feature, Redesigned shop catalogue layout with sidebar category navigation and removed vendor SKUs from the customer view
- 2025-10-08, 12:51 UTC, Fix, Restored shop product creation with validated uploads and database persistence to resolve Not Found errors
- 2025-10-08, 12:41 UTC, Fix, Updated API documentation links to open in a new tab with secure attributes for consistent navigation
- 2025-10-11, 09:30 UTC, Fix, Added server-rendered CSRF tokens across portal forms so submissions succeed even without client-side scripts
- 2025-10-08, 12:36 UTC, Fix, Allowed the CSRF middleware to validate multipart form tokens so shop product uploads succeed
- 2025-10-08, 12:22 UTC, Fix, Removed the product description textarea from the shop admin add product form and refreshed helper copy
- 2025-10-14, 09:15 UTC, Fix, Reinstated shop admin product import via stock feed with FastAPI endpoint and service coverage
- 2025-10-11, 10:30 UTC, Fix, Restored legacy shop product image loading by securing nested upload path handling
- 2025-10-08, 12:34 UTC, Fix, Added multipart fallback parsing for mislabelled switch-company submissions so company switching succeeds for FormData clients
- 2025-10-08, 12:44 UTC, Fix, Ensured company switch submissions always post the selected companyId by injecting a hidden field before form submission
- 2025-10-08, 12:20 UTC, Fix, Embedded CSRF tokens into Shop admin templates and base helpers to restore product management submissions
- 2025-10-08, 12:17 UTC, Change, Updated the customer forms portal route to /myforms with navigation updates and a legacy redirect
- 2025-10-08, 12:12 UTC, Fix, Removed product description input from the shop admin creation form per request
- 2025-10-08, 12:10 UTC, Fix, Stored imported shop images in the secure uploads directory and enforced validation to resolve 404s
- 2025-10-10, 16:05 UTC, Fix, Namespaced the forms API under /api/forms so the customer UI renders instead of JSON responses
- 2025-10-08, 12:08 UTC, Fix, Sanitised automation scheduler task payloads before JSON encoding to restore the admin dashboard
- 2025-10-10, 14:20 UTC, Fix, Replaced MariaDB-incompatible UTC timestamp defaults in scheduler migration to restore service startup
- 2025-10-08, 11:49 UTC, Fix, Restored the licenses admin HTML view by namespacing the API under /api to prevent JSON responses from hijacking the UI route
- 2025-10-10, 04:45 UTC, Fix, Routed staff API under /api to restore the staff management UI rendering on the Python portal
- 2025-10-10, 13:45 UTC, Fix, Corrected scheduler monitoring migration defaults to remain MariaDB-compatible while storing UTC timestamps
- 2025-10-08, 11:20 UTC, Feature, Added hashed API key management endpoints with usage telemetry, audit logging, and admin reporting
- 2025-10-11, 09:00 UTC, Fix, Restored authenticated legacy uploads route in FastAPI to eliminate shop image 404 errors
- 2025-10-10, 04:30 UTC, Fix, Mounted legacy uploads directory in FastAPI so shop product images load successfully
- 2025-10-08, 11:08 UTC, Fix, Allowed switch-company requests with incorrect JSON headers to fall back to form parsing so company switching succeeds
- 2025-10-10, 03:15 UTC, Fix, Prevented switch-company payload parsing from failing after CSRF middleware consumes the request body stream
- 2025-10-08, 10:55 UTC, Fix, Hardened active company session migration for legacy MySQL compatibility so company switching succeeds
- 2025-10-08, 10:58 UTC, Feature, Rebuilt forms repositories, assignment APIs, and OpnForm embedding for the Python portal
- 2025-09-17, 06:44 UTC, Feature, Setup change log file
- 2025-10-09, 20:50 UTC, Fix, Added missing FastAPI Form import to restore API startup
- 2025-10-09, 19:30 UTC, Fix, Restored company switching with session-backed active company tracking and sidebar selector
- 2025-09-17, 06:59 UTC, Feature, Consolidated Company Assets column toggles into a secure header view menu
- 2025-09-17, 07:02 UTC, Fix, Added server-rendered CSRF tokens to Apps management forms to prevent invalid token errors when saving changes
- 2025-09-17, 07:08 UTC, Fix, Repositioned asset search/view controls above the table with a default-collapsed column accordion
- 2025-09-17, 07:18 UTC, Fix, Added CSRF protection tokens to scheduled task forms to prevent invalid token errors when managing schedules
- 2025-09-17, 07:26 UTC, Feature, Split scheduled tasks into system and company tables for clearer administration and visibility
- 2025-09-17, 07:38 UTC, Feature, Added automated product DBP threshold alerts with super admin email and popup notifications
- 2025-09-17, 07:47 UTC, Fix, Normalised Syncro CPUAge import to populate asset Approx Age
- 2025-09-17, 07:54 UTC, Feature, Added OpnForm deployment guidance, nginx proxy config, and super admin builder link
- 2025-09-17, 09:16 UTC, Fix, Updated CSP frame policy to allow embedding OpnForm frames from form.hawkinsit.au
- 2025-09-17, 09:34 UTC, Feature, Added dynamic template variables for app URLs and documented usage in README
- 2025-09-17, 14:47 UTC, Fix, Proxied OpnForm embeds through an internal viewer to keep forms inside the portal while honouring template variables
- 2025-09-17, 15:30 UTC, Fix, Relaxed embedded form sandbox and CSP to support FIDO2 postMessage flows while keeping CSP restrictions
- 2025-09-17, 23:06 UTC, Feature, Enabled OpnForm iframe embed snippets in Forms admin with validation and sanitised storage
- 2025-09-18, 01:20 UTC, Fix, Served sanitised OpnForm embed snippets directly to avoid upstream fetch failures when loading forms
- 2025-09-18, 02:45 UTC, Fix, Always proxy OpnForm content and show an in-portal unavailable message when upstream embedding is blocked
- 2025-09-18, 04:10 UTC, Fix, Restored direct OpnForm URL management in Forms admin instead of requiring iframe embed snippets
- 2025-09-18, 07:03 UTC, Fix, Replaced proxied form viewer with direct iframe embedding and refreshed OpnForm documentation
- 2025-09-18, 07:21 UTC, Change, Switched the portal authentication route from /login to /logon and updated dependent redirects and templates
- 2025-09-18, 07:28 UTC, Change, Migrated forms routes from /forms to /myforms with documentation, nginx, and template updates plus legacy redirects
- 2025-09-18, 08:30 UTC, Feature, Rebuilt the MyPortal backend and UI in Python with FastAPI, async MySQL access, and responsive 3-panel theming
- 2025-09-18, 09:05 UTC, Fix, Replaced binary image assets with SVG icons to unblock PR creation and retain themeable layout
- 2025-10-07, 11:53 UTC, Fix, Added a virtual environment bootstrap script and README guidance to bypass externally managed pip install failures
- 2025-10-07, 12:00 UTC, Fix, Allowed extra environment variables in Python settings loader to restore API startup
- 2025-10-07, 12:10 UTC, Fix, Switched configuration fields to validation aliases so startup accepts secret and database env vars
- 2025-10-07, 12:19 UTC, Feature, Added secure upgrade automation script for pulling updates and restarting services

- 2025-10-07, 12:30 UTC, Fix, Guarded MySQL bootstrap connection shutdown to support aiomysql versions without wait_closed
- 2025-10-07, 12:36 UTC, Feature, Added FastAPI session management, CSRF middleware, login rate limiting, password reset, and TOTP flows with documented endpoints
- 2025-10-08, 00:58 UTC, Feature, Delivered responsive login and super-admin registration pages with session-aware redirects and client-side MFA support
- 2025-10-08, 02:12 UTC, Fix, Ensured login authenticator prompts expose and submit TOTP codes reliably while focusing invalid entries for quick retries
- 2025-10-08, 02:32 UTC, Fix, Forced login submissions to include sanitised TOTP values from the authenticator input when present to satisfy MFA checks
- 2025-10-09, 13:05 UTC, Feature, Documented legacy Node.js parity gaps and outlined restoration tasks in docs/node-parity-gap.md
- 2025-10-09, 13:30 UTC, Feature, Documented systemd service setup for running MyPortal as a managed Linux service
- 2025-10-09, 15:42 UTC, Fix, Switched password hashing to bcrypt_sha256 to support long credentials without login failures
- 2025-10-09, 16:18 UTC, Fix, Normalised login TOTP payload handling to accept legacy keys and enforce numeric codes server-side
- 2025-10-08, 04:05 UTC, Feature, Introduced role-based company memberships with audit logging and admin control panels
- 2025-10-08, 06:07 UTC, Feature, Rebuilt shop, forms, staff, and commerce admin dashboards with Jinja templates, responsive layout components, and supporting scripts
- 2025-10-08, 10:48 UTC, Fix, Updated upgrade automation to skip dependency reinstalls and service restarts when no upstream changes are pulled
- 2025-10-08, 06:33 UTC, Fix, Added global sidebar navigation for admin pages so new management views are accessible from the portal
- 2025-10-08, 06:41 UTC, Fix, Restored shop catalogue display for products whose names match their SKUs so existing items appear
- 2025-10-08, 06:49 UTC, Fix, Restored shop admin and catalogue views to load categories and products from the database with VIP pricing and company restrictions
- 2025-10-09, 18:00 UTC, Feature, Added port catalogue data models, secure document uploads, pricing workflow approvals, notification APIs, and refreshed Swagger documentation
- 2025-10-08, 07:28 UTC, Feature, Rebuilt staff data models, Syncro import client, scheduled sync runner, and management UI with API parity and permissions
- 2025-10-09, 21:15 UTC, Feature, Restored license management UI, Microsoft 365 sync services, OAuth callbacks, and admin credential workflows for parity with the legacy portal
- 2025-10-08, 10:40 UTC, Fix, Treated blank optional webhook URLs as unset so configuration validation no longer blocks startup
- 2025-10-08, 10:14 UTC, Fix, Allowed company switching endpoint to accept JSON and form payloads while validating memberships
- 2025-10-08, 10:19 UTC, Fix, Hardened company switching payload parsing to support form, JSON, and query parameters with updated documentation
- 2025-10-08, 10:32 UTC, Fix, Added resilient switch-company payload parsing fallback for raw form bodies and undocumented clients
- 2025-10-10, 12:00 UTC, Feature, Added persistent scheduler management APIs, webhook retry monitoring UI, and admin automation controls with database migrations
- 2025-10-10, 12:45 UTC, Fix, Corrected scheduler monitoring migration defaults and enforced UTC MySQL sessions to restore startup
- 2025-10-09, 05:40 UTC, Fix, Restored admin API key dashboard by aligning API key usage queries with ONLY_FULL_GROUP_BY SQL mode to prevent runtime errors
- 2025-10-09, 11:09 UTC, Feature, Moved scheduler editing into modal workflows, added per-task run history popups, and created a dedicated webhook delivery monitoring page
- 2025-10-09, 11:36 UTC, Fix, Removed the SKU column from the software licenses table to simplify the display per request
- 2025-10-09, 12:53 UTC, Fix, Hardened system update cleanup to skip inaccessible user site-packages paths and avoid permission failures
- 2025-10-09, 13:15 UTC, Feature, Added viewport-aware pagination controls to the webhook delivery queue for responsive monitoring
- 2025-10-09, 23:30 UTC, Fix, Removed leftover patch markers from dashboard template to restore valid Jinja block structure
- 2025-10-09, 23:32 UTC, Fix, Resized all modal popups to occupy 75% of the viewport for consistent layout compliance
- 2025-10-10, 13:45 UTC, Fix, Restored notification API actions with summary counts, event-type catalogues, repository insert reliability, and UI refresh
- 2025-10-15, 23:36 UTC, Fix, Restored admin membership removal handler closures to resolve admin.js syntax error
